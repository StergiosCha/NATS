<!-- Entity Stats -->
<div class="mb-4 bg-gray-50 p-4 rounded-lg">
    <h4 class="text-md font-medium mb-2">Entity Statistics:</h4>
    <p class="text-gray-600 mb-2">Total Entities Found: {{ data.entities|length }}</p>
    <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
        {% set entity_types = data.entities|map(attribute='type')|list %}
        <div class="bg-blue-50 p-2 rounded">
            <span class="text-sm font-medium">PERSON: {{ entity_types.count('PERSON') }}</span>
        </div>
        <div class="bg-yellow-50 p-2 rounded">
            <span class="text-sm font-medium">LOC: {{ entity_types.count('LOC') }}</span>
        </div>
        <div class="bg-green-50 p-2 rounded">
            <span class="text-sm font-medium">ORG: {{ entity_types.count('ORG') }}</span>
        </div>
        <div class="bg-purple-50 p-2 rounded">
            <span class="text-sm font-medium">DATE: {{ entity_types.count('DATE') }}</span>
        </div>
    </div>
</div>

<!-- Document Similarities -->
{% if has_similarities and data.similarities %}
<div class="mb-4 bg-gray-50 p-4 rounded-lg">
    <h4 class="text-md font-medium mb-2">Document Similarities:</h4>
    <div class="space-y-3">
        {% for other_doc, similarity in data.similarities.items() %}
        <div class="relative">
            <div class="flex justify-between mb-1">
                <span class="text-sm font-medium">{{ other_doc }}</span>
                <span class="text-sm font-medium">{{ "%.1f"|format(similarity * 100) }}%</span>
            </div>
            <div class="w-full bg-gray-200 rounded-full h-2.5">
                <div class="bg-blue-600 h-2.5 rounded-full" style="width: {{ similarity * 100 }}%"></div>
            </div>
        </div>
        {% endfor %}
    </div>
</div>
{% endif %}
